
#Extends "Modes/TrackMania/TMModeBase.Script.txt"

***StartServer***
***
declare LayerPosition <=> UIManager.UILayerCreate();
LayerPosition.ManialinkPage = GetLayerPosition();
UIManager.UIAll.UILayers.add(LayerPosition);
***

***StartMap***
***
TM::Players_SpawnAll(Now + 2000);
***

Text GetLayerPosition() {
	return """<script><!--
	main() {
		wait(InputPlayer != Null);
		declare Label_Position <=> (Page.GetFirstChild("Label_Position") as CMlLabel);
		
		while (True) {
			Label_Position.Value = ""^InputPlayer.Position;
		}
	}
	--></script>
	<frame>
		<label id="Label_Position" style="TextTitle1" halign="center" valign="center2"/>
	</frame>""";
}
